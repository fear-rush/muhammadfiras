---
import Layout from "../../layouts/Layout.astro";
import { getCollection } from "astro:content";

const projects = (await getCollection("projects")).sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());
---

<Layout title="Projects / Muhammad Firas" description="Projects by Muhammad Firas.">
	<main id="main-content" class="shell page-shell">
		<section class="stack">
			<h1>Projects</h1>
			<p class="line">-</p>
			<ol>
				{
					projects.map((project, index) => (
						<li>
							<span>{projects.length - index}.</span>
							<a href={`/projects/${project.id.replace(/\.md$/, "")}`}>{project.data.title}</a>
						</li>
					))
				}
			</ol>
		</section>
	</main>
</Layout>

<style>
	.shell {
		position: relative;
		z-index: 1;
		min-height: 100vh;
		display: flex;
		align-items: flex-start;
		justify-content: center;
		padding: 4.25rem 1.25rem 7rem;
	}

	.stack {
		width: 100%;
		max-width: 30ch;
		text-align: left;
		padding-left: 1.1rem;
		border-left: 1px solid var(--line-soft);
	}

	h1,
	p,
	ol,
	span,
	a {
		margin: 0;
		font-size: 0.86rem;
		font-weight: 400;
		letter-spacing: 0.02em;
	}

	.line {
		margin: 1rem 0 0.85rem;
		color: var(--ink-soft);
	}

	ol {
		padding: 0;
		list-style: none;
		display: flex;
		flex-direction: column;
		gap: 0.5rem;
	}

	li {
		display: flex;
		gap: 0.5rem;
	}

	span {
		color: var(--ink-soft);
		min-width: 1.2rem;
	}

	@media (max-width: 640px) {
		.shell {
			padding: 1.25rem 1rem 4rem 1.25rem;
		}

		.stack {
			padding-left: 0.85rem;
		}
	}
</style>
